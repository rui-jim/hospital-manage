<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.test.hospitalserver.mapper.AdminsMapper">
    
    <resultMap id="resAdmin" type="admins">
        <result property="aId" column="a_id"/>
        <result property="name" column="name"/>
        <result property="age" column="age"/>
        <collection property="roles" ofType="roles">
            <id property="rId" column="r_id"/>
            <result property="rName" column="r_name"/>
        </collection>
    </resultMap>
    
    <select id="getAdmins" resultMap="resAdmin">

        select a.a_id,a.name,a.age,r.r_id as r_id ,r.r_name
        from admins a,user_roles u,roles r
        where a.a_id=u.a_id and u.r_id=r.r_id ;
    </select>
    
</mapper>
